<?xml version="1.0" encoding="UTF-8"?>
<cherrytree>
  <node name="25. Search" unique_id="26" prog_lang="custom-colors" tags="" readonly="0" nosearch_me="0" nosearch_ch="0" custom_icon_id="0" is_bold="0" foreground="" ts_creation="1709130879" ts_lastsave="1709508348">
    <rich_text>[+] Generamos el componente de history:

08:54:04 ng g c modules/history/components/Search
CREATE src/app/modules/history/components/search/search.component.html (21 bytes)
CREATE src/app/modules/history/components/search/search.component.spec.ts (559 bytes)
CREATE src/app/modules/history/components/search/search.component.ts (202 bytes)
CREATE src/app/modules/history/components/search/search.component.css (0 bytes)
UPDATE src/app/modules/history/history.module.ts (495 bytes)

[+] Vamos a realizar los siguientes cambios:

history/
┣ components/
┃ ┗ search/
┃   ┣ search.component.css
		
		</rich_text>
    <rich_text foreground="#a6e22e">.search-component</rich_text>
    <rich_text foreground="#f8f8f2"> {</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text style="italic" foreground="#66d9ef">padding</rich_text>
    <rich_text foreground="#f8f8f2">: </rich_text>
    <rich_text foreground="#ae81ff">0</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#ae81ff">1.5</rich_text>
    <rich_text foreground="#f92672">rem</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">}</rich_text>
    <rich_text>

		</rich_text>
    <rich_text foreground="#a6e22e">.search-component</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#f92672">input</rich_text>
    <rich_text foreground="#f8f8f2"> {</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text style="italic" foreground="#66d9ef">border</rich_text>
    <rich_text foreground="#f8f8f2">: </rich_text>
    <rich_text foreground="#ae81ff">0</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text style="italic" foreground="#66d9ef">border-radius</rich_text>
    <rich_text foreground="#f8f8f2">: </rich_text>
    <rich_text foreground="#ae81ff">3</rich_text>
    <rich_text foreground="#f92672">rem</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text style="italic" foreground="#66d9ef">height</rich_text>
    <rich_text foreground="#f8f8f2">: </rich_text>
    <rich_text foreground="#ae81ff">40</rich_text>
    <rich_text foreground="#f92672">px</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text style="italic" foreground="#66d9ef">width</rich_text>
    <rich_text foreground="#f8f8f2">: </rich_text>
    <rich_text foreground="#ae81ff">20</rich_text>
    <rich_text foreground="#f92672">rem</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text style="italic" foreground="#66d9ef">padding</rich_text>
    <rich_text foreground="#f8f8f2">: </rich_text>
    <rich_text foreground="#ae81ff">0</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#ae81ff">.75</rich_text>
    <rich_text foreground="#f92672">rem</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text style="italic" foreground="#66d9ef">font-size</rich_text>
    <rich_text foreground="#f8f8f2">: </rich_text>
    <rich_text foreground="#ae81ff">90</rich_text>
    <rich_text foreground="#f92672">%</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">}</rich_text>
    <rich_text>


┃   ┣ search.component.html

		</rich_text>
    <rich_text foreground="#f8f8f2">&lt;</rich_text>
    <rich_text foreground="#f92672">div</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#a6e22e">class</rich_text>
    <rich_text foreground="#f8f8f2">=</rich_text>
    <rich_text foreground="#e6db74">"search-component"</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">    &lt;</rich_text>
    <rich_text foreground="#f92672">input</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#a6e22e">type</rich_text>
    <rich_text foreground="#f8f8f2">=</rich_text>
    <rich_text foreground="#e6db74">"text"</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#a6e22e">placeholder</rich_text>
    <rich_text foreground="#f8f8f2">=</rich_text>
    <rich_text foreground="#e6db74">"Artistas, canciones o pódcast"</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">    &lt;</rich_text>
    <rich_text foreground="#f92672">br</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">    &lt;</rich_text>
    <rich_text foreground="#f92672">div</rich_text>
    <rich_text foreground="#f8f8f2">&gt;Resultado: &lt;/</rich_text>
    <rich_text foreground="#f92672">div</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">&lt;/</rich_text>
    <rich_text foreground="#f92672">div</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>


┃   ┣ search.component.spec.ts
┃   ┗ search.component.ts
┣ pages/
┃ ┗ history-page/
┃   ┣ history-page.component.css

		</rich_text>
    <rich_text foreground="#a6e22e">.history-page</rich_text>
    <rich_text foreground="#f8f8f2"> {</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text style="italic" foreground="#66d9ef">padding</rich_text>
    <rich_text foreground="#f8f8f2">: </rich_text>
    <rich_text foreground="#ae81ff">.65</rich_text>
    <rich_text foreground="#f92672">rem</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#ae81ff">0</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">}</rich_text>
    <rich_text>

┃   ┣ history-page.component.html
	
	</rich_text>
    <rich_text foreground="#f8f8f2">&lt;</rich_text>
    <rich_text foreground="#f92672">div</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#a6e22e">class</rich_text>
    <rich_text foreground="#f8f8f2">=</rich_text>
    <rich_text foreground="#e6db74">"history-page"</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>
	</rich_text>
    <rich_text foreground="#f8f8f2">    &lt;</rich_text>
    <rich_text foreground="#f92672">app-search</rich_text>
    <rich_text foreground="#f8f8f2">&gt;&lt;/</rich_text>
    <rich_text foreground="#f92672">app-search</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>
	</rich_text>
    <rich_text foreground="#f8f8f2">    &lt;</rich_text>
    <rich_text foreground="#f92672">app-play-list-body</rich_text>
    <rich_text foreground="#f8f8f2">&gt;&lt;/</rich_text>
    <rich_text foreground="#f92672">app-play-list-body</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>
	</rich_text>
    <rich_text foreground="#f8f8f2">&lt;/</rich_text>
    <rich_text foreground="#f92672">div</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>

┃   ┣ history-page.component.spec.ts
┃   ┗ history-page.component.ts
┣ history-routing.module.ts
┗ history.module.ts </rich_text>
    <rich_text scale="h1" background="#eded33333b3b" weight="heavy">⇒ Importamos el SharedModule</rich_text>
    <rich_text>


========================

[+] Aplicamos un NgModel, es un comoponente que sirve para relacionar data de manera bidireccional entre el HTML y el TS.

Primero importamos el formModule en el modulo mas cercano:

</rich_text>
    <rich_text foreground="#f92672">import</rich_text>
    <rich_text foreground="#f8f8f2"> { NgModule } </rich_text>
    <rich_text foreground="#f92672">from</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#e6db74">'@angular/core'</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f92672">import</rich_text>
    <rich_text foreground="#f8f8f2"> { CommonModule } </rich_text>
    <rich_text foreground="#f92672">from</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#e6db74">'@angular/common'</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>

</rich_text>
    <rich_text foreground="#f92672">import</rich_text>
    <rich_text foreground="#f8f8f2"> { HistoryRoutingModule } </rich_text>
    <rich_text foreground="#f92672">from</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#e6db74">'./history-routing.module'</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f92672">import</rich_text>
    <rich_text foreground="#f8f8f2"> { HistoryPageComponent } </rich_text>
    <rich_text foreground="#f92672">from</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#e6db74">'./pages/history-page/history-page.component'</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f92672">import</rich_text>
    <rich_text foreground="#f8f8f2"> { SearchComponent } </rich_text>
    <rich_text foreground="#f92672">from</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#e6db74">'./components/search/search.component'</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f92672">import</rich_text>
    <rich_text foreground="#f8f8f2"> { SharedModule } </rich_text>
    <rich_text foreground="#f92672">from</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#e6db74">'@shared/shared.module'</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f92672">import</rich_text>
    <rich_text foreground="#f8f8f2"> { FormsModule } </rich_text>
    <rich_text foreground="#f92672">from</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#e6db74">'@angular/forms'</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>


</rich_text>
    <rich_text foreground="#f8f8f2">@</rich_text>
    <rich_text underline="single" foreground="#a6e22e">NgModule</rich_text>
    <rich_text foreground="#f8f8f2">({</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">  declarations: [</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text underline="single" foreground="#a6e22e">HistoryPageComponent</rich_text>
    <rich_text foreground="#f8f8f2">,</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text underline="single" foreground="#a6e22e">SearchComponent</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">  ],</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">  imports: [</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text underline="single" foreground="#a6e22e">CommonModule</rich_text>
    <rich_text foreground="#f8f8f2">,</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text underline="single" foreground="#a6e22e">HistoryRoutingModule</rich_text>
    <rich_text foreground="#f8f8f2">,</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text underline="single" foreground="#a6e22e">SharedModule</rich_text>
    <rich_text foreground="#f8f8f2">,</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text underline="single" foreground="#a6e22e">FormsModule</rich_text>
    <rich_text> </rich_text>
    <rich_text scale="h1" background="#eded33333b3b" weight="heavy">⇒ Here!</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">  ]</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">})</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f92672">export</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text style="italic" foreground="#66d9ef">class</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text underline="single" foreground="#a6e22e">HistoryModule</rich_text>
    <rich_text foreground="#f8f8f2"> { }</rich_text>
    <rich_text>


Ahora ponemos un BananaBox ⇒ [(ngModel)]='src' donde src debe ser creado en el TS 

history/
┣ components/
┃ ┗ search/
┃   ┣ search.component.html

		</rich_text>
    <rich_text foreground="#f8f8f2">&lt;</rich_text>
    <rich_text foreground="#f92672">div</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#a6e22e">class</rich_text>
    <rich_text foreground="#f8f8f2">=</rich_text>
    <rich_text foreground="#e6db74">"search-component"</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">    &lt;</rich_text>
    <rich_text foreground="#f92672">input</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#a6e22e">[(ngModel)]</rich_text>
    <rich_text foreground="#f8f8f2">=</rich_text>
    <rich_text foreground="#e6db74">"</rich_text>
    <rich_text foreground="#f8f8f2">src</rich_text>
    <rich_text foreground="#e6db74">"</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#a6e22e">type</rich_text>
    <rich_text foreground="#f8f8f2">=</rich_text>
    <rich_text foreground="#e6db74">"text"</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#a6e22e">placeholder</rich_text>
    <rich_text foreground="#f8f8f2">=</rich_text>
    <rich_text foreground="#e6db74">"Artistas, canciones o pódcast"</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">    &lt;</rich_text>
    <rich_text foreground="#f92672">br</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">    &lt;</rich_text>
    <rich_text foreground="#f92672">div</rich_text>
    <rich_text foreground="#f8f8f2">&gt;Resultado: {{src}} &lt;/</rich_text>
    <rich_text foreground="#f92672">div</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">&lt;/</rich_text>
    <rich_text foreground="#f92672">div</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>

y en el TS:

		</rich_text>
    <rich_text foreground="#f92672">export</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text style="italic" foreground="#66d9ef">class</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text underline="single" foreground="#a6e22e">SearchComponent</rich_text>
    <rich_text foreground="#f8f8f2"> {</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">  src</rich_text>
    <rich_text foreground="#f92672">:</rich_text>
    <rich_text style="italic" foreground="#66d9ef">string</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#f92672">=</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#e6db74">''</rich_text>
    <rich_text>
		</rich_text>
    <rich_text foreground="#f8f8f2">}</rich_text>
    <rich_text>


</rich_text>
    <rich_text justification="left"></rich_text>
    <rich_text>


Cuando cambiamos en el TS instantaneamente cambiará.

[+] Añadimos un evento que detecta cuando hay un cambio en el ngModel ⇒ ngModelChange y enseguida podemos llamar una funcion a la que le pasamos el evento:


[+] Para poder capturar el evento del cambio de esa variable utilizaremos una funcion NgModelChange y le pasaremos el evento, este evento va a contener el valor:

</rich_text>
    <rich_text foreground="#f8f8f2">&lt;</rich_text>
    <rich_text foreground="#f92672">input</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#a6e22e">(ngModelChange)</rich_text>
    <rich_text foreground="#f8f8f2">=</rich_text>
    <rich_text foreground="#e6db74">"</rich_text>
    <rich_text foreground="#a6e22e">callSearch</rich_text>
    <rich_text foreground="#f8f8f2">($event)</rich_text>
    <rich_text foreground="#e6db74">"</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#a6e22e">[(ngModel)]</rich_text>
    <rich_text foreground="#f8f8f2">=</rich_text>
    <rich_text foreground="#e6db74">"</rich_text>
    <rich_text foreground="#f8f8f2">src</rich_text>
    <rich_text foreground="#e6db74">"</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#a6e22e">type</rich_text>
    <rich_text foreground="#f8f8f2">=</rich_text>
    <rich_text foreground="#e6db74">"text"</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#a6e22e">placeholder</rich_text>
    <rich_text foreground="#f8f8f2">=</rich_text>
    <rich_text foreground="#e6db74">"Artistas, canciones o pódcast"</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>

Y declaramos la funcion en el TS
</rich_text>
    <rich_text foreground="#f8f8f2">  </rich_text>
    <rich_text foreground="#a6e22e">callSearch</rich_text>
    <rich_text foreground="#f8f8f2">(</rich_text>
    <rich_text style="italic" foreground="#fd971f">term</rich_text>
    <rich_text foreground="#f92672">:</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text style="italic" foreground="#66d9ef">string</rich_text>
    <rich_text foreground="#f8f8f2">)</rich_text>
    <rich_text foreground="#f92672">:</rich_text>
    <rich_text style="italic" foreground="#66d9ef">void</rich_text>
    <rich_text foreground="#f8f8f2"> {</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">    console.</rich_text>
    <rich_text foreground="#a6e22e">log</rich_text>
    <rich_text foreground="#f8f8f2">(term)</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">  }</rich_text>
    <rich_text>

[+] En </rich_text>
    <rich_text link="node 29">26.@Output</rich_text>
    <rich_text> Hicimos la siguiente conexion


</rich_text>
    <rich_text justification="left"></rich_text>
    <rich_text>

[+] Ahora quisieramos que el padre con la informacion obtenida en el search haga la peticion a la API y esa info se la pase al playlist componente

</rich_text>
    <rich_text justification="left"></rich_text>
    <rich_text>

[+] Primero vamos a considerar los tracks en el playlist body como un input

</rich_text>
    <rich_text foreground="#f92672">export</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text style="italic" foreground="#66d9ef">class</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text underline="single" foreground="#a6e22e">PlayListBodyComponent</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#f92672">implements</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text underline="single" foreground="#a6e22e">OnInit</rich_text>
    <rich_text foreground="#f8f8f2">, </rich_text>
    <rich_text underline="single" foreground="#a6e22e">OnDestroy</rich_text>
    <rich_text foreground="#f8f8f2"> {</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">  @</rich_text>
    <rich_text underline="single" foreground="#a6e22e">Input</rich_text>
    <rich_text foreground="#f8f8f2">() tracks</rich_text>
    <rich_text foreground="#f92672">:</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text style="italic" foreground="#66d9ef">Array</rich_text>
    <rich_text foreground="#f8f8f2">&lt;</rich_text>
    <rich_text underline="single" foreground="#a6e22e">TrackModel</rich_text>
    <rich_text foreground="#f8f8f2">&gt; </rich_text>
    <rich_text foreground="#f92672">=</rich_text>
    <rich_text foreground="#f8f8f2"> []</rich_text>
    <rich_text>


[+] De esta manera vamos a poder pasarlos en HTML del padre

</rich_text>
    <rich_text foreground="#f8f8f2">&lt;</rich_text>
    <rich_text foreground="#f92672">app-play-list-body</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#a6e22e">[tracks]</rich_text>
    <rich_text foreground="#f8f8f2">=</rich_text>
    <rich_text foreground="#e6db74">"[]"</rich_text>
    <rich_text foreground="#f8f8f2">&gt;&lt;/</rich_text>
    <rich_text foreground="#f92672">app-play-list-body</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>

[+] Generamos un servicio en el history page que se va a encargar de solicitar la peticion a la API:

14:42:48 =&gt; ng g s modules/history/services/Search
CREATE src/app/modules/history/services/search.service.spec.ts (357 bytes)
CREATE src/app/modules/history/services/search.service.ts (135 bytes)


</rich_text>
    <rich_text foreground="#f92672">import</rich_text>
    <rich_text foreground="#f8f8f2"> { HttpClient } </rich_text>
    <rich_text foreground="#f92672">from</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#e6db74">'@angular/common/http'</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f92672">import</rich_text>
    <rich_text foreground="#f8f8f2"> { Injectable } </rich_text>
    <rich_text foreground="#f92672">from</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#e6db74">'@angular/core'</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f92672">import</rich_text>
    <rich_text foreground="#f8f8f2"> { Observable, map } </rich_text>
    <rich_text foreground="#f92672">from</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#e6db74">'rxjs'</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f92672">import</rich_text>
    <rich_text foreground="#f8f8f2"> { environment } </rich_text>
    <rich_text foreground="#f92672">from</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#e6db74">'src/environments/environment.development'</rich_text>
    <rich_text foreground="#f8f8f2">;</rich_text>
    <rich_text>

</rich_text>
    <rich_text foreground="#f8f8f2">@</rich_text>
    <rich_text underline="single" foreground="#a6e22e">Injectable</rich_text>
    <rich_text foreground="#f8f8f2">({</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">  providedIn: </rich_text>
    <rich_text foreground="#e6db74">'root'</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">})</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f92672">export</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text style="italic" foreground="#66d9ef">class</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text underline="single" foreground="#a6e22e">SearchService</rich_text>
    <rich_text foreground="#f8f8f2"> {</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">  </rich_text>
    <rich_text foreground="#f92672">private</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#f92672">readonly</rich_text>
    <rich_text foreground="#f8f8f2"> URL </rich_text>
    <rich_text foreground="#f92672">=</rich_text>
    <rich_text foreground="#f8f8f2"> environment.api</rich_text>
    <rich_text> ⇒ Importamos la URL del ENV
</rich_text>
    <rich_text foreground="#f8f8f2">  </rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">  </rich_text>
    <rich_text style="italic" foreground="#66d9ef">constructor</rich_text>
    <rich_text foreground="#f8f8f2">(</rich_text>
    <rich_text foreground="#f92672">private</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text style="italic" foreground="#fd971f">http</rich_text>
    <rich_text foreground="#f92672">:</rich_text>
    <rich_text underline="single" foreground="#a6e22e">HttpClient</rich_text>
    <rich_text foreground="#f8f8f2">) { }</rich_text>
    <rich_text> ⇒ Inyectamos el servicio de API

⇒ Creamos una funcion que va a recibir el termino desde el history que recibimos del search
⇒ Hace la peticion y mapea la data


</rich_text>
    <rich_text foreground="#f8f8f2">  </rich_text>
    <rich_text foreground="#a6e22e">searchTracks$</rich_text>
    <rich_text foreground="#f8f8f2">(</rich_text>
    <rich_text style="italic" foreground="#fd971f">term</rich_text>
    <rich_text foreground="#f92672">:</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text style="italic" foreground="#66d9ef">string</rich_text>
    <rich_text foreground="#f8f8f2">)</rich_text>
    <rich_text foreground="#f92672">:</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text underline="single" foreground="#a6e22e">Observable</rich_text>
    <rich_text foreground="#f8f8f2">&lt;</rich_text>
    <rich_text style="italic" foreground="#66d9ef">any</rich_text>
    <rich_text foreground="#f8f8f2">&gt; {</rich_text>
    <rich_text> 
</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text foreground="#f92672">return</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#fd971f">this</rich_text>
    <rich_text foreground="#f8f8f2">.http.</rich_text>
    <rich_text foreground="#a6e22e">get</rich_text>
    <rich_text foreground="#f8f8f2">(</rich_text>
    <rich_text foreground="#e6db74">`</rich_text>
    <rich_text foreground="#f92672">${</rich_text>
    <rich_text foreground="#fd971f">this</rich_text>
    <rich_text foreground="#f8f8f2">.URL</rich_text>
    <rich_text foreground="#f92672">}</rich_text>
    <rich_text foreground="#e6db74">/tracks?src=</rich_text>
    <rich_text foreground="#f92672">${</rich_text>
    <rich_text style="italic" foreground="#fd971f">term</rich_text>
    <rich_text foreground="#f92672">}</rich_text>
    <rich_text foreground="#e6db74">`</rich_text>
    <rich_text foreground="#f8f8f2">)</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">      .</rich_text>
    <rich_text foreground="#a6e22e">pipe</rich_text>
    <rich_text foreground="#f8f8f2">(</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">        </rich_text>
    <rich_text foreground="#a6e22e">map</rich_text>
    <rich_text foreground="#f8f8f2">((</rich_text>
    <rich_text style="italic" foreground="#fd971f">dataRaw</rich_text>
    <rich_text foreground="#f92672">:</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text style="italic" foreground="#66d9ef">any</rich_text>
    <rich_text foreground="#f8f8f2">) </rich_text>
    <rich_text style="italic" foreground="#66d9ef">=&gt;</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text style="italic" foreground="#fd971f">dataRaw</rich_text>
    <rich_text foreground="#f8f8f2">.data)</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">      )</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">  }</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">}</rich_text>
    <rich_text>




En El History Page hacemos lo siguiente


</rich_text>
    <rich_text foreground="#f8f8f2">  listResults$</rich_text>
    <rich_text foreground="#f92672">:</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text underline="single" foreground="#a6e22e">Observable</rich_text>
    <rich_text foreground="#f8f8f2">&lt;</rich_text>
    <rich_text style="italic" foreground="#66d9ef">any</rich_text>
    <rich_text foreground="#f8f8f2">&gt; </rich_text>
    <rich_text foreground="#f92672">=</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#a6e22e">of</rich_text>
    <rich_text foreground="#f8f8f2">([])</rich_text>
    <rich_text>

</rich_text>
    <rich_text foreground="#f8f8f2">  </rich_text>
    <rich_text foreground="#a6e22e">receiveData</rich_text>
    <rich_text foreground="#f8f8f2">(</rich_text>
    <rich_text style="italic" foreground="#fd971f">data</rich_text>
    <rich_text foreground="#f92672">:</rich_text>
    <rich_text style="italic" foreground="#66d9ef">string</rich_text>
    <rich_text foreground="#f8f8f2">)</rich_text>
    <rich_text foreground="#f92672">:</rich_text>
    <rich_text style="italic" foreground="#66d9ef">void</rich_text>
    <rich_text foreground="#f8f8f2"> {</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">    console.</rich_text>
    <rich_text foreground="#a6e22e">log</rich_text>
    <rich_text foreground="#f8f8f2">(</rich_text>
    <rich_text foreground="#e6db74">'desde el padre 🔴🔴🔴'</rich_text>
    <rich_text foreground="#f8f8f2">, </rich_text>
    <rich_text style="italic" foreground="#fd971f">data</rich_text>
    <rich_text foreground="#f8f8f2">)</rich_text>
    <rich_text>
</rich_text>
    <rich_text foreground="#f8f8f2">    </rich_text>
    <rich_text foreground="#fd971f">this</rich_text>
    <rich_text foreground="#f8f8f2">.listResults$ </rich_text>
    <rich_text foreground="#f92672">=</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#fd971f">this</rich_text>
    <rich_text foreground="#f8f8f2">.searchService.</rich_text>
    <rich_text foreground="#a6e22e">searchTracks$</rich_text>
    <rich_text foreground="#f8f8f2">(</rich_text>
    <rich_text style="italic" foreground="#fd971f">data</rich_text>
    <rich_text foreground="#f8f8f2">)</rich_text>
    <rich_text> ⇒ Al hacer la peticion de esa manera debemos declarar en el HTML como ASYNC


</rich_text>
    <rich_text foreground="#f8f8f2">  }</rich_text>
    <rich_text>


Para que la peticion se tome como la mas reicnete


</rich_text>
    <rich_text foreground="#f8f8f2">    &lt;</rich_text>
    <rich_text foreground="#f92672">app-play-list-body</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#a6e22e">[tracks]</rich_text>
    <rich_text foreground="#f8f8f2">=</rich_text>
    <rich_text foreground="#e6db74">"</rich_text>
    <rich_text foreground="#f8f8f2">listResults$ </rich_text>
    <rich_text foreground="#f92672">|</rich_text>
    <rich_text foreground="#f8f8f2"> </rich_text>
    <rich_text foreground="#a6e22e">async</rich_text>
    <rich_text foreground="#e6db74">"</rich_text>
    <rich_text foreground="#f8f8f2">&gt;&lt;/</rich_text>
    <rich_text foreground="#f92672">app-play-list-body</rich_text>
    <rich_text foreground="#f8f8f2">&gt;</rich_text>
    <rich_text>



</rich_text>
    <encoded_png char_offset="2705" justification="left" link="" sha256sum="2bfb825be45a9a73b724619dc7e0e5e3c034eb3925c0c1c6516b62332edb60e7"/>
    <encoded_png char_offset="3348" justification="left" link="" sha256sum="da82607c998f26869d9a842ec7833323a0619efa4c65893d64da83494b747676"/>
    <encoded_png char_offset="3499" justification="left" link="" sha256sum="46aa15f84439373c183867800d31356368491696b462f74bcb6092af6438b46f"/>
  </node>
</cherrytree>
